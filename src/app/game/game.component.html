<app-loading-spinner *ngIf="showSpinner"></app-loading-spinner>

<div class="container" *ngIf="!showSpinner">
  <div *ngFor="let game of games; let i = index">
    <mat-card>
      <mat-card-header *ngFor="let date of dates; let j = index">
        <mat-card-title *ngIf="i == j">{{(game.name)?(game.name):('No Name')}}
          <span *ngIf="date">({{(date.y)?(date.y):('N/A')}})</span>
        </mat-card-title>
      </mat-card-header>

      <mat-chip-list>
        <mat-chip *ngIf="game.total_rating" color="accent" selected>{{game.total_rating | number:'2.1-2'}}%</mat-chip>
        <mat-chip *ngIf="!game.total_rating" color="warn" selected>No rating</mat-chip>
      </mat-chip-list>

      <mat-card-content *ngIf="game.summary" class="summary">{{game.summary | slice:0:220}}...</mat-card-content>
      <mat-card-content *ngIf="!game.summary" class="summary">No summary available!</mat-card-content>

      <mat-card-content>
        <button mat-raised-button color="primary"><a href="{{game.url}}" *ngIf="game.url">Details</a></button>
        <a [routerLink]="['/cart', { id:game.id }]">
          <mat-icon matSuffix color="warn">favorite</mat-icon>
        </a>

      </mat-card-content>
    </mat-card>
  </div>
</div>